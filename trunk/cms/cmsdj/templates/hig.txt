HIG: элементы управления сложной записью
Страница detail для одной сложной записи состоит из:
* Common: элементы, касающиеся всей записи;
* Main: основной блок - атрибуты самой записи (ФИО etc);
* Subs: многострочный блок - записи подчиненных таблиц/классов (адреса, телефоны).
Общие принципы размещения элементов управления - а) не загромождать, б) минимум движений.

= Common =
Здесь находится только одна педаль - <u>Delete</u> (удалить всю запись)

= Main =
В норме вещей здесь есть только педаль Edit (редактировать атрибуты записи).
При нажатии - появлется pop-up window с педалями <u>Save</u> и <u>Cancel</u>.
По <u>Save</u> - перегружается вся страница detail.
По <u>Cancel</u> - nothing to do.

= Subs =
Вариант "в каждом блоке - педаль Add, плюс к каждой подзаписи - педали Edit и Del" кажется излишне громоздким (см. экран).
Поэтому:
* Вверху/внизу всего многострочного блока (на экране <span style="background-color: silver"> выделено </span> и Епочта):
  - селектор что добавить (причем он остается на том месте, где был, т.е. если мы добавляли телефон - то по-дефолту останется телефон (для этой записи))),
  - Педаль Add (по нажатию - popup с формой добавления с педалями Save и Cancel)
  - Педаль Del (удалить записи, отмеченные в чекбоксах).
* напротив каждой записи каждого блока - checkbox (для удаления)
* Что делать с Edit записи - хез. Варианты:
- похерить, а оставить только Add и Del (хотя это и нехорошая идея)
- таки присобачить к каждой записи иконку;
- саму запись сделать href - и popup по нажатию (в этом случае затрудняется copy-paste, зато педалей меньше)ю

= Всё будет не так (2013020601) =
Таки формы будут inplace. Но - обычными шаблонами.
По команде Add/Edit мы попадаем на другую страницу - точно такую же, но блок данных заменен на форму.
И остается здесь до Save=OK/Cancel.
Note: сделать граф наследования/включения шаблонов

== развитие ==
1. немного магии.
Данные = это форма с readonly полями. По Edit мы скрываем/показываем педали и [раз]блокируем поля.

2. еще немного магии (где данные не совпадают с формой - e.g. адрес).
На странице есть и данные и форма. Мы их скрываем/показываем.

3. немного аякса (python-django-dajax).
#1 или #2  + ajax (т.е. без перегрузки страниц)

4. popup
Формы из исходного варианта вставить в popup-страницы.

Всё. Дата - подпись.
