<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<title> Тест checkbox </title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<!--
		Automatic SelectAll and UnselectAll
		1. on group checkbox on - set each item checkbox on;
		2. on group checkbox off - set each item checkbox off;
		3. on any item checkbox on - set group checkbox on;
		4. extra: if each item checkbox off - set group checkbox off;
	-->
</head>
<body>
<script type="text/javascript" language="JavaScript">
<!--
function GroupClicked () {
	state = document.myform.g.checked;
	items = document.myform.id;
	for (i = 0; i < items.length; i++) {
		if (items[i].checked != state) {
			items[i].checked = state;
		}
	}
}
function ItemClicked (item) {
	if (item.checked == true) {
		if (document.myform.g.checked == false) {	// if this is first item
			document.myform.g.checked = true;
		}
	}
	else {	// item off
		items = document.myform.id;
		flag = false;
		for (i = 0; i < items.length; i++) {
			if (items[i].checked == true) {
				flag = true;
				break;
			}
		}
		if ((flag == false) && (document.myform.g.checked == true)) {
			document.myform.g.checked = false;
		}
	}
}
//-->
</script>
<form name="myform">
	<p> <input type="checkbox" name="g" onClick="GroupClicked();"> The Group </p>
	<ul>
		<li> <input type="checkbox" name="id" value="id_123" onClick="ItemClicked(this);"/> Item 1 </li>
		<li> <input type="checkbox" name="id" value="id_456" onClick="ItemClicked(this);"/> Item 2 </li>
		<li> <input type="checkbox" name="id" value="id_789" onClick="ItemClicked(this);"/> Item 3 </li>
	</ul>
</form>
</body>
